<!--
General lwc Ui Picklist wraps (lightning-combobox)
`Parent MUST provide recordId and objectApiName!

 @todo theis would be better if it was an html select but lwc
  has no component for this and a standard html select does not appear
  to work on all android and sfdc mobile apps
-->
<template>
    <div>
        <div if:true={errorMsg}
             class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error" role="alert">
            <span class="slds-assistive-text">error</span>
            <span class="slds-icon_container slds-icon-utility-error slds-m-right_x-small"
                  title="Description of icon when needed">
                <lightning-icon icon-name="utility:error" size="small"></lightning-icon>
           </span>
            <h2>{genericErrorMessage}</h2>
            <p>{errorMsg}</p>
        </div>
        <article if:false={errorMsg} class="slds-card">
            <div class="slds-card__body slds-card__body_inner accel-card-mobile-skinny-padding">
                <lightning-spinner variant="brand" size="small" if:true={hasToShowSpinner}></lightning-spinner>
                <div lwc:dom="manual" class="fake-lightning-combobox-class"></div>
                <!-- DIV below is so we can inject css into the DOM as workaround to LWC Shadow DOM Limitations. -->
                <lightning-combobox
                        required={picklistRequired}
                        label={picklistLabel}
                        value={picklistSelectedValue}
                        options={picklistOptions}
                        onchange={handleChange}></lightning-combobox>
            </div>
        </article>
    </div>
</template>